(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[233],{5278:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/join",function(){return r(996)}])},996:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return c}});var i=r(5893),t=r(7294),s=r(9008),o=r.n(s),l=()=>{let[e,n]=(0,t.useState)(""),[r,s]=(0,t.useState)("idle"),o=async r=>{r.preventDefault(),s("loading");try{let r=await fetch("/api/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),i=await r.json();r.ok?(s("success"),n("")):(s("error"),console.error("Subscription error:",i))}catch(e){s("error"),console.error("Error submitting form:",e)}};return(0,i.jsxs)("form",{onSubmit:o,children:[(0,i.jsx)("label",{htmlFor:"email",children:"Email:"}),(0,i.jsx)("input",{type:"email",id:"email",value:e,onChange:e=>n(e.target.value),required:!0}),(0,i.jsx)("button",{type:"submit",disabled:"loading"===r,children:"loading"===r?"Subscribing...":"Subscribe"}),"success"===r&&(0,i.jsx)("p",{children:"Successfully subscribed!"}),"error"===r&&(0,i.jsx)("p",{children:"Subscription failed. Please try again."})]})},c=function(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o(),{children:(0,i.jsx)("title",{children:"Psychical Research Book Club - Join Us"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{children:"Join Our Newsletter"}),(0,i.jsx)("p",{children:"Stay up to date with our latest book selections and meeting times by joining our email newsletter."}),(0,i.jsx)(l,{})]})]})}},9008:function(e,n,r){e.exports=r(6665)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=5278)}),_N_E=e.O()}]);